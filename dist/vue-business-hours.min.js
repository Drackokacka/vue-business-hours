var VueBusinessHours=function(e,t,n,i,s,o){"use strict";t=t&&t.hasOwnProperty("default")?t.default:t;var r={props:{days:{type:Object,required:!0},name:{type:String,default:"business_hours"},type:{type:String,default:"datalist",validator:function(e){return-1!==["datalist","select"].indexOf(e)}},timeIncrement:{type:Number,default:30,validator:function(e){return-1!==[15,30,60].indexOf(e)}},color:{type:String,default:"#2779bd",validator:function(e){return"#"===e.charAt(0)}}}};var a=function(e,t,n,i,s,o,r,a,u,d){"boolean"!=typeof r&&(u=a,a=r,r=!1);var l,h="function"==typeof n?n.options:n;if(e&&e.render&&(h.render=e.render,h.staticRenderFns=e.staticRenderFns,h._compiled=!0,s&&(h.functional=!0)),i&&(h._scopeId=i),o?(l=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),t&&t.call(this,u(e)),e&&e._registeredComponents&&e._registeredComponents.add(o)},h._ssrRegister=l):t&&(l=r?function(){t.call(this,d(this.$root.$options.shadowRoot))}:function(e){t.call(this,a(e))}),l)if(h.functional){var c=h.render;h.render=function(e,t){return l.call(t),c(e,t)}}else{var m=h.beforeCreate;h.beforeCreate=m?[].concat(m,l):[l]}return n},u="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());var d=document.head||document.getElementsByTagName("head")[0],l={};var h=function(e){return function(e,t){return function(e,t){var n=u?t.media||"default":e,i=l[n]||(l[n]={ids:new Set,styles:[]});if(!i.ids.has(e)){i.ids.add(e);var s=t.source;if(t.map&&(s+="\n/*# sourceURL="+t.map.sources[0]+" */",s+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(t.map))))+" */"),i.element||(i.element=document.createElement("style"),i.element.type="text/css",t.media&&i.element.setAttribute("media",t.media),d.appendChild(i.element)),"styleSheet"in i.element)i.styles.push(s),i.element.styleSheet.cssText=i.styles.filter(Boolean).join("\n");else{var o=i.ids.size-1,r=document.createTextNode(s),a=i.element.childNodes;a[o]&&i.element.removeChild(a[o]),a.length?i.element.insertBefore(r,a[o]):i.element.appendChild(r)}}}(e,t)}},c=a({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"business-hours-container"},e._l(e.days,function(t,i){return n("business-hours-day",{key:i,attrs:{day:i,hours:t,name:e.name,"time-increment":e.timeIncrement,type:e.type,color:e.color}})}),1)},staticRenderFns:[]},function(e){e&&e("data-v-d60fd436_0",{source:".business-hours-container[data-v-d60fd436]{display:block;width:100%;max-width:600px;font-family:-apple-system,Helvetica,Arial,sans-serif;font-size:15px;color:#3d4852}",map:void 0,media:void 0})},r,"data-v-d60fd436",!1,void 0,h,void 0),m={data:function(){return{validations:[],errors:{open:{invalidInput:'Please enter an opening time in the 12 hour format (ie. 08:00 AM). You may also enter "24 hours".',greaterThanNext:"Please enter an opening time that is before the closing time.",lessThanPrevious:"Please enter an opening time that is after the previous closing time.",midnightNotLast:"Midnight can only be selected for the day's last closing time."},close:{invalidInput:'Please enter a closing time in the 12 hour format (ie. 05:00 PM). You may also enter "24 hours" or "Midnight".',lessThanPrevious:"Please enter a closing time that is after the opening time.",greaterThanNext:"Please enter a closing time that is before the next opening time.",midnightNotLast:"Midnight can only be selected for the day's last closing time."}}}},created:function(){this.runValidations()},computed:{},methods:{defaultValidation:function(){return{invalidInput:!1,greaterThanNext:!1,lessThanPrevious:!1,midnightNotLast:!1}},defaultValidations:function(){return{anyErrors:!1,open:this.defaultValidation(),close:this.defaultValidation()}},isValidInput:function(e){return this.isValidBackendTime(e)||"2400"===e||"24hrs"===e||""===e},resetValidations:function(){var e=this,t=[];this.hours.forEach(function(n,i){t[i]=e.defaultValidations()}),this.validations=t},runValidations:function(){var e=this,t=1;this.resetValidations(),this.hours.forEach(function(n,i){e.runValidation(n.open,i,t,"open"),t++,e.runValidation(n.close,i,t,"close"),t++}),this.updateAnyErrors()},runValidation:function(e,t,n,i){this.isValidBackendTime(e)&&(this.validations[t][i]=this.runInputValidation(e,t,n,this.totalInputs)),this.validations[t][i].invalidInput=!this.isValidInput(e),this.updateAdjacentValidations(t,i,n)},runInputValidation:function(e,t,n,i){var s=this.getPrevious(this.hours,t,n),o=this.getNext(this.hours,t,n,i),r=this.defaultValidation();return r.midnightNotLast="2400"===e&&!this.isLastInput(n,i),void 0===s?r.greaterThanNext=e>=o&&""!==o:void 0===o?r.lessThanPrevious=e<=s&&""!==s:(r.lessThanPrevious=e<=s&&""!==s,r.greaterThanNext=e>=o&&""!==o),r},updateAdjacentValidations:function(e,t,n){var i=e-1,s=e+1,o=this.validations[e][t],r=this.getPrevious(this.validations,e,n),a=this.getNext(this.validations,e,n,this.totalInputs);void 0!==r&&(o.lessThanPrevious?r.greaterThanNext=!0:o.lessThanPrevious||(r.greaterThanNext=!1)),void 0!==a&&(o.greaterThanNext?a.lessThanPrevious=!0:o.greaterThanNext||(a.lessThanPrevious=!1)),this.isFirstInput(n)||"open"!==t?"close"===t&&(this.validations[e].open=r):this.validations[i].close=r,this.isLastInput(n,this.totalInputs)||"close"!==t?"open"===t&&(this.validations[e].close=a):this.validations[s].open=a},updateAnyErrors:function(){var e=this;this.validations.forEach(function(t,n){return e.validations[n].anyErrors=e.anyErrors(t)})},anyErrors:function(e){return!(!this.anyError(e.open)&&!this.anyError(e.close))},anyError:function(e){return Object.keys(e).some(function(t){return!0===e[t]})},activeErrors:function(e){var t=this.validations[e],n=[];return Object.keys(t).forEach(function(e){if("object"==typeof t[e]){var i=t[e];Object.keys(i).filter(function(e){return!0===i[e]}).forEach(function(t){n.push({whichTime:e,error:t})})}}),n},errorMessage:function(e,t){return this.errors[e][t]}}},p=require("uniqid"),f=a({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("transition-group",{tag:"div",attrs:{name:"fade"}},e._l(e.hours,function(t,i){var s=t.open,o=t.close,r=t.id;return t.isOpen,n("div",{key:r},[n("div",{staticClass:"flex-table row",attrs:{role:"rowgroup"}},[n("div",{staticClass:"flex-row day",attrs:{role:"cell"}},[e.showDay(i)?n("div",[e._v(e._s(e.titleCase(e.day)))]):e._e()]),e._v(" "),n("div",{staticClass:"flex-row toggle",attrs:{role:"cell"}},[e.showDay(i)?n("ToggleButton",{attrs:{value:e.anyOpen,sync:!0,labels:{checked:"Open",unchecked:"Closed"},color:e.color,width:75,height:25,"font-size":12},on:{change:function(t){e.toggleOpen(),e.resetHours(),e.runValidations()}}}):e._e()],1),e._v(" "),n("transition",{attrs:{name:"fade"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.isOpenToday,expression:"isOpenToday"}],staticClass:"flex-row hours open",attrs:{role:"cell"}},["select"===e.type?n("BusinessHoursSelect",{attrs:{name:e.name,"input-num":e.inputNum("open",i),"total-inputs":e.totalInputs,day:e.day,hours:e.hours,"time-increment":e.timeIncrement,index:i,"selected-time":s},on:{"input-change":function(t){return e.onChangeEventHandler("open",i,t)}}}):e._e(),e._v(" "),"datalist"===e.type?n("BusinessHoursDatalist",{attrs:{name:e.name,"input-num":e.inputNum("open",i),"total-inputs":e.totalInputs,day:e.day,hours:e.hours,"time-increment":e.timeIncrement,index:i,"selected-time":s,"any-error":e.anyError(e.validations[i].open)},on:{"input-change":function(t){return e.onChangeEventHandler("open",i,t)}}}):e._e()],1)]),e._v(" "),n("transition",{attrs:{name:"fade"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.isOpenToday,expression:"isOpenToday"}],staticClass:"flex-row dash",attrs:{role:"cell"}},[e._v("-")])]),e._v(" "),n("transition",{attrs:{name:"fade"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.isOpenToday,expression:"isOpenToday"}],staticClass:"flex-row hours close",attrs:{role:"cell"}},["select"===e.type?n("BusinessHoursSelect",{attrs:{name:e.name,"input-num":e.inputNum("close",i),"total-inputs":e.totalInputs,day:e.day,hours:e.hours,"time-increment":e.timeIncrement,index:i,"selected-time":o},on:{"input-change":function(t){return e.onChangeEventHandler("close",i,t)}}}):e._e(),e._v(" "),"datalist"===e.type?n("BusinessHoursDatalist",{attrs:{name:e.name,"input-num":e.inputNum("close",i),"total-inputs":e.totalInputs,day:e.day,hours:e.hours,"time-increment":e.timeIncrement,index:i,"any-error":e.anyError(e.validations[i].close),"updated-validations":e.validations[i].close,"selected-time":o},on:{"input-change":function(t){return e.onChangeEventHandler("close",i,t)}}}):e._e()],1)]),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.isOpenToday,expression:"isOpenToday"}],staticClass:"flex-row remove",attrs:{role:"cell"}},[e.showRemoveButton()?n("button",{staticClass:"font-awesome-button",attrs:{type:"button"},on:{click:function(t){return e.removeRow(i)}}},[n("FontAwesomeIcon",{staticClass:"fa-sm",attrs:{icon:"times"}})],1):e._e()]),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.isOpenToday,expression:"isOpenToday"}],staticClass:"flex-row add",attrs:{role:"cell"}},[e.showAddButton(i)?n("button",{staticClass:"add-hours",style:{color:e.color},attrs:{type:"button"},on:{click:function(t){return e.addRow()}}},[e._v("Add hours")]):e._e()])],1),e._v(" "),e.validations[i].anyErrors?n("ul",{staticClass:"time-errors"},e._l(e.activeErrors(i),function(t){var i=t.whichTime,s=t.error;return n("li",{key:i+"."+s},[e._v(e._s(e.errorMessage(i,s)))])}),0):e._e()])}),0)},staticRenderFns:[]},function(e){e&&e("data-v-4664d39c_0",{source:".flex-table[data-v-4664d39c]{display:flex;flex-flow:row nowrap;align-items:center;margin:.75em 0;height:45px}.flex-row[data-v-4664d39c]{width:calc(100% / 6);padding-right:7px}.flex-row[data-v-4664d39c] input,.flex-row[data-v-4664d39c] select{margin:1px;padding:3px 5px;width:100px;height:28px;font-size:14px;line-height:28px;vertical-align:middle;border:1px solid #d5d5d5;box-sizing:border-box}.flex-row.toggle[data-v-4664d39c]{width:96px}.flex-row.dash[data-v-4664d39c]{padding-right:7px;width:5px}.row-container[data-v-4664d39c]{flex-direction:column}.row[data-v-4664d39c]{flex-direction:row}.remove[data-v-4664d39c]{display:flex;justify-content:center;width:50px}label.vue-js-switch[data-v-4664d39c]{margin-bottom:0}button.add-hours[data-v-4664d39c],button.font-awesome-button[data-v-4664d39c]{height:30px;background-color:transparent;border-color:transparent;border-style:none;border-width:0;padding:0;cursor:pointer}button.add-hours[data-v-4664d39c]:focus,button.font-awesome-button[data-v-4664d39c]:focus{outline:0}button.font-awesome-button[data-v-4664d39c]{width:30px;font-size:24px}button.add-hours[data-v-4664d39c]{font-size:14px;font-weight:700}.fa-times[data-v-4664d39c]{color:#3d4852}.fade-enter-active[data-v-4664d39c],.fade-leave-active[data-v-4664d39c]{transition:opacity .2s ease}.fade-enter[data-v-4664d39c],.fade-leave-to[data-v-4664d39c]{opacity:0}.time-errors[data-v-4664d39c]{margin:0;padding:0;font-size:12px;color:#e3342f;list-style:none}.time-errors li[data-v-4664d39c]{margin-bottom:6px}",map:void 0,media:void 0})},{mixins:[m],props:{day:{type:String,required:!0},hours:{type:Array,required:!0},name:{type:String,required:!0},timeIncrement:{type:Number,required:!0},type:{type:String,required:!0},color:{type:String,required:!0}},computed:{totalInputs:function(){return 2*this.hours.length},isOpenToday:function(){return this.hours[0].isOpen},anyOpen:function(){return this.hours.some(function(e){return!0===e.isOpen})}},methods:{onChangeEventHandler:function(e,t,n){return"24hrs"==(n=this.backendInputFormat(n))?(this.hours.splice(1),this.hours[0].open=this.hours[0].close=n,void this.runValidations()):"24hrs"!=this.hours[t].open&&"24hrs"!=this.hours[t].close||""!=n?!this.onlyOneRow(this.hours)&&""===n&&("open"===e&&""===this.hours[t].close||"close"===e&&""===this.hours[t].open)?(this.removeRow(t),void this.runValidations()):(this.hours[t][e]=n,void this.runValidations()):(this.hours[t].open=this.hours[t].close=n,void this.runValidations())},inputNum:function(e,t){return"open"===e?2*t+1:"close"===e?2*t+2:void 0},toggleOpen:function(){this.hours[0].isOpen=!this.hours[0].isOpen},resetHours:function(){this.hours.splice(1),this.hours[0].open=this.hours[0].close=""},addRow:function(){this.hours.push({id:p(),open:"",close:"",isOpen:!0}),this.runValidations()},removeRow:function(e){this.hours.splice(e,1),this.runValidations()},showDay:function(e){return!(e>0)},showRemoveButton:function(){return this.hours.length>1},showAddButton:function(e){return!(this.hours.length!==e+1||""===this.hours[e].open||""===this.hours[e].close||"24hrs"===this.hours[e].open||"24hrs"===this.hours[e].close||"select"===this.type&&15===this.timeIncrement&&"2345"===this.hours[e].close||"select"===this.type&&30===this.timeIncrement&&"2330"===this.hours[e].close||"select"===this.type&&60===this.timeIncrement&&"2300"===this.hours[e].close||"2400"===this.hours[e].close||!1!==this.validations[e].anyErrors)}}},"data-v-4664d39c",!1,void 0,h,void 0),v={data:function(){return{selected:this.selectedTime,times:[]}},props:{name:{type:String,required:!0},day:{type:String,required:!0},hours:{type:Array,required:!0},index:{type:Number,required:!0},inputNum:{type:Number,required:!0},totalInputs:{type:Number,required:!0},selectedTime:{type:String,required:!0},timeIncrement:{type:Number,required:!0}},created:function(){this.times=this.generateTimes(this.timeIncrement)},watch:{selectedTime:function(){this.selected=this.selectedTime}},computed:{whichTime:function(){return this.isEven(this.inputNum)?"close":"open"},defaultText:function(){return"open"===this.whichTime?"Opens":"Closes"},optionName:function(){return this.name+"["+this.day+"]["+this.index+"]["+this.whichTime+"]"},filteredTimes:function(){var e=this.getPrevious(this.hours,this.index,this.inputNum),t=this.getNext(this.hours,this.index,this.inputNum,this.totalInputs),n=this.times;return this.isFirstRow(this.index)||""!==e||(e=this.getPrevious(this.hours,this.index,this.inputNum-1)),this.isFirstInput(this.inputNum)?n=this.getFiltered("before",t,n):this.isLastInput(this.inputNum,this.totalInputs)?n=this.getFiltered("after",e,n):(n=this.getFiltered("before",t,n),n=this.getFiltered("after",e,n)),n},showMidnightOption:function(){return this.isLastRow(this.index,this.hours)&&"close"===this.whichTime&&"24hrs"!==this.hours[this.index].close}},filters:{formatTime:function(e){return t(e,"HHmm").format("hh:mm A")}},methods:{inputEventHandler:function(e){this.$emit("input-change",e.target.value)},generateTimes:function(e){var n="0000",i=[];do{i.push(n),n=t(n,"HHmm").add(e,"minutes").format("HHmm")}while("0000"!==n);return i},getFiltered:function(e,t,n){return this.isLastInput(this.inputNum,this.totalInputs)&&""===this.hours[this.index].open?((n=n.filter(function(e){return e>t})).shift(),n):""===t?n:("before"===e?n=n.filter(function(e){return e<t}):"after"===e&&(n=n.filter(function(e){return e>t})),n)}}},g=a({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("select",{directives:[{name:"model",rawName:"v-model",value:e.selected,expression:"selected"}],attrs:{name:e.optionName},on:{change:[function(t){var n=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.selected=t.target.multiple?n:n[0]},e.inputEventHandler]}},[n("option",{directives:[{name:"show",rawName:"v-show",value:e.isFirstRow(e.index)&&e.onlyOneRow(e.hours),expression:"isFirstRow(index) && onlyOneRow(hours)"}],attrs:{value:""}},[e._v(e._s(e.defaultText))]),e._v(" "),n("option",{directives:[{name:"show",rawName:"v-show",value:e.isFirstRow(e.index),expression:"isFirstRow(index)"}],attrs:{value:"24hrs"}},[e._v("24 hours")]),e._v(" "),e._l(e.filteredTimes,function(t){return n("option",{key:t,domProps:{value:t,selected:t==e.selected}},[e._v(e._s(e._f("formatTime")(t)))])}),e._v(" "),n("option",{directives:[{name:"show",rawName:"v-show",value:e.showMidnightOption,expression:"showMidnightOption"}],attrs:{value:"2400"}},[e._v("Midnight")])],2)},staticRenderFns:[]},void 0,{mixins:[v]},void 0,!1,void 0,void 0,void 0),y=a({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("input",{staticClass:"time-input",class:[e.anyError?"has-error":""],attrs:{type:"text",list:e.datalistID,placeholder:e.defaultText},domProps:{value:e.formattedTime},on:{change:e.inputEventHandler}}),e._v(" "),n("datalist",{attrs:{id:e.datalistID}},[e.isFirstRow(e.index)?n("option",[e._v("24 hours")]):e._e(),e._v(" "),e._l(e.filteredTimes,function(t){return n("option",{key:t},[e._v(e._s(e._f("formatTime")(t)))])}),e._v(" "),e.showMidnightOption?n("option",[e._v("Midnight")]):e._e()],2),e._v(" "),n("input",{attrs:{name:e.optionName,type:"hidden"},domProps:{value:e.selected}})])},staticRenderFns:[]},function(e){e&&e("data-v-c9b2c3f4_0",{source:".time-input.has-error[data-v-c9b2c3f4]{border:solid #e3342f 1px}",map:void 0,media:void 0})},{mixins:[v],props:{anyError:{type:Boolean,required:!0}},computed:{formattedTime:function(){return this.frontendInputFormat(this.selected)},datalistID:function(){return this.day+"-"+this.index+"-"+this.whichTime}}},"data-v-c9b2c3f4",!1,void 0,h,void 0),w=Object.freeze({BusinessHours:c,BusinessHoursDay:f,BusinessHoursSelect:g,BusinessHoursDatalist:y,ToggleButton:n.ToggleButton,FontAwesomeIcon:i.FontAwesomeIcon}),x={methods:{titleCase:function(e){for(var t=e.toLowerCase().split(" "),n=0;n<t.length;n++)t[n]=t[n].charAt(0).toUpperCase()+t[n].substring(1);return t.join(" ")},frontendTimeFormat:function(e){return t(e,"HHmm").format("hh:mm A")},backendTimeFormat:function(e){return t(e,"hh:mm A").format("HHmm")},isValidFrontendTime:function(e){return t(e,"hh:mm A",!0).isValid()},isValidBackendTime:function(e){return t(e,"HHmm",!0).isValid()},frontendInputFormat:function(e){return"24hrs"===e?e="24 hours":"2400"===e?e="Midnight":this.isValidBackendTime(e)?e=this.frontendTimeFormat(e):""===e&&(e=""),e},backendInputFormat:function(e){return"Midnight"===e||"midnight"===e?"2400":"24 hours"===e||"24 Hours"===e?"24hrs":this.isValidFrontendTime(e)?this.backendTimeFormat(e):e},isEven:function(e){return e%2==0},isFirstInput:function(e){return 1===e},isLastInput:function(e,t){return e===t},isFirstRow:function(e){return 0===e},isLastRow:function(e,t){return e===t.length-1},isMiddleRow:function(e,t){return!this.isFirstRow(e)&&!this.isLastRow(e,t)},onlyOneRow:function(e){return 1===e.length},getPrevious:function(e,t,n){if(1!==n)return this.isEven(n)?e[t].open:e[t-1].close},getNext:function(e,t,n,i){if(n!==i)return this.isEven(n)?e[t+1].open:e[t].close}}};s.library.add(o.faTimes);var _={install:function e(t){e.installed||(e.installed=!0,Object.keys(w).forEach(function(e){t.component(e,w[e])}),t.mixin(x))}},b=null;return"undefined"!=typeof window?b=window.Vue:"undefined"!=typeof global&&(b=global.Vue),b&&b.use(_),Object.defineProperty(e,"ToggleButton",{enumerable:!0,get:function(){return n.ToggleButton}}),Object.defineProperty(e,"FontAwesomeIcon",{enumerable:!0,get:function(){return i.FontAwesomeIcon}}),e.BusinessHours=c,e.BusinessHoursDatalist=y,e.BusinessHoursDay=f,e.BusinessHoursSelect=g,e.default=_,e}({},moment,ToggleButton,FontAwesomeIcon,library,faTimes);